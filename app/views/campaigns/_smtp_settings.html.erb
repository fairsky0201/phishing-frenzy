<div class="panel panel-default">
  <div class="panel-heading" data-toggle="collapse" data-target="#collapseThree">
    <h4 class="panel-title">
      <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree">
        SMTP Settings
      </a>
    </h4>
  </div>
  <div id="collapseThree" class="panel-collapse collapse">
    <div class="panel-body">
      <table class='table borderless' summary="Campaign Settings">
      <%= f.fields_for :email_settings, @campaign.email_settings do |ff| %>
        <tr>
          <th>Pre-populate:</th>
          <td>
          <span class="ui-icon ui-icon-help" title='Pre-populate SMTP and Port settings for commonly used email providers'></span>
          </td>
          <td>
          <select id="smtpPreFill" class="form-control">
            <option>--Select--</option>
            <option value="google">Gmail</option>
            <option value="outlook">Outlook.com</option>
            <option value="godaddy">GoDaddy</option>
            <option value="sendgrid">Sendgrid</option>
          </select>
          </td>
        </tr>
        <tr>
          <th>SMTP Server:</th>
          <td><span class="ui-icon ui-icon-help" title='SMTP server used to received emails'></span></td>
          <td>
            <%= ff.text_field(:smtp_server,
                  placeholder: 'mail.phishingfrenzy.local',
                  class: 'form-control') %>
          </td>
        </tr>
        <tr>
          <th>SMTP Outbound Server:</th>
          <td><span class="ui-icon ui-icon-help" title='SMTP server used to relay emails through'></span></td>
          <td>
            <%= ff.text_field(:smtp_server_out,
                    placeholder: 'smtp.phishingfrenzy.local',
                    class: 'form-control') %>
          </td>
        </tr>
        <tr>
          <th>SMTP Domain:</th>
          <td><span class="ui-icon ui-icon-help" title='Domain of email addrffs'></span></td>
          <td>
            <%= ff.text_field(:domain,
                    placeholder: 'phishingfrenzy.local',
                    class: 'form-control') %>
          </td>
        </tr>
        <tr>
          <th>SMTP Authentication:</th>
          <td><span class="ui-icon ui-icon-help" title='SMTP Authentication Method'></span></td>
          <td>
            <%= ff.select(:authentication, 
                    @campaign.email_settings.authentications.collect { |a| [a, a] },{},
                    {class: 'form-control'}) %>
          </td>
        </tr>
        <tr>
          <th>SMTP Username:</th>
          <td><span class="ui-icon ui-icon-help" title='SMTP username to authenticate sending emails'></span></td>
          <td>
            <%= ff.text_field(:smtp_username,
                    placeholder: 'username',
                    class: 'form-control') %>
          </td>
        </tr>
        <tr>
          <th>SMTP Password:</th>
          <td>
            <span class="ui-icon ui-icon-help" title='SMTP password to authenticate sending emails'>
            </span>
          </td>
          <td>
            <%= ff.password_field(:smtp_password,
                  placeholder: 'password',
                  value: @campaign.email_settings.smtp_password,
                  class: 'form-control') %>
          </td>
        </tr>
        <tr>
          <th>Openssl Verify Mode:</th>
          <td><span class="ui-icon ui-icon-help" title='Session verification mode'></span></td>
          <td>
            <%= ff.select(:openssl_verify_mode,
                    @campaign.email_settings.openssl_verify_modes.collect { |m| [m, m] },{},
                    {class: 'form-control'}) %>
          </td>
        </tr>
        <tr>
          <th>Enable Start TLS Automatically?:</th>
          <td><span class="ui-icon ui-icon-help" title='Enable Start TLS Automatically?'></span></td>
          <td><%= ff.check_box(:enable_starttls_auto, class: 'span9') %></td>
        </tr>
        <tr>
          <th>SMTP Port:</th>
          <td><span class="ui-icon ui-icon-help" title='SMTP port used to relay emails through'></span></td>
          <td>
            <%= ff.text_field(:smtp_port,
                    placeholder: '25',
                    class: 'form-control') %>
          </td>
        </tr>
      <% end %>
      </table>
    </div>
  </div>
</div>